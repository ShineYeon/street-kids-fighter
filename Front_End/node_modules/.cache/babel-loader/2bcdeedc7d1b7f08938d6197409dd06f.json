{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\React-Board-master\\\\newvenv\\\\Front_End\\\\src\\\\components\\\\Form.js\";\nimport axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nclass Form extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      category: \"\",\n      body: \"\",\n      image: null,\n      imageName: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.fileChangeHandler = this.fileChangeHandler.bind(this);\n    this.postClick = this.postClick.bind(this);\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    this.setState({\n      [target.name]: target.value\n    });\n  }\n\n  fileChangeHandler(event) {\n    event.preventDefault();\n    const file = event.target.files[0];\n    this.setState({\n      image: file,\n      imageName: file[\"name\"]\n    });\n  }\n\n  postClick() {\n    const token = localStorage.getItem(\"token\");\n    console.log(\"[*] createPost\");\n    const formData = new FormData();\n    formData.append(\"Title\", this.state.title); // formData.append(\"category\", this.state.category);\n\n    formData.append(\"Content\", this.state.body); // formData.append(\"image\", this.state.image);\n\n    console.log(formData.entries());\n    axios.post(\"http://localhost:8080/api/posts/\", formData, {\n      headers: {\n        \"content-type\": \"multipart/form-data\",\n        \"Authorization\": `Token ${token}`\n      }\n    }).then(response => {\n      if (response.status < 300) {\n        this.props.history.push(\"/\");\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"\\uC81C\\uBAA9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input is-hovered\",\n            type: \"text\",\n            name: \"title\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"\\uCE74\\uD14C\\uACE0\\uB9AC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"select\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"\\uC6F9 \\uD504\\uB860\\uD2B8\\uC5D4\\uB4DC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"\\uC6F9 \\uBC31\\uC5D4\\uB4DC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"iOS \\uC571\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"\\uC548\\uB4DC\\uB85C\\uC774\\uB4DC \\uC571\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"\\uD558\\uC774\\uBE0C\\uB9AC\\uB4DC \\uC571\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"\\uBCF8\\uBB38\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"textarea is-hovered\",\n            rows: \"10\",\n            name: \"body\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"label\",\n          children: \"\\uBC30\\uACBD\\uC0AC\\uC9C4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file has-name\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"file-label\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"file-input\",\n                type: \"file\",\n                name: \"image\",\n                onChange: this.fileChangeHandler\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"file-cta\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"file-label\",\n                  children: \"Choose a file\\u2026\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"file-name\",\n                children: this.state.imageName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field is-grouped\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button is-primary\",\n            onClick: this.postClick,\n            children: \"\\uC644\\uB8CC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Form);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/User/Desktop/React-Board-master/newvenv/Front_End/src/components/Form.js"],"names":["axios","React","Component","withRouter","Form","constructor","props","state","title","category","body","image","imageName","handleChange","bind","fileChangeHandler","postClick","event","target","setState","name","value","preventDefault","file","files","token","localStorage","getItem","console","log","formData","FormData","append","entries","post","headers","then","response","status","history","push","render"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass Form extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      title: \"\",\r\n      category: \"\",\r\n      body: \"\",\r\n      image: null,\r\n      imageName: \"\",\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.fileChangeHandler = this.fileChangeHandler.bind(this);\r\n    this.postClick = this.postClick.bind(this);\r\n  }\r\n  handleChange(event) {\r\n    const target = event.target;\r\n    this.setState({ [target.name]: target.value });\r\n  }\r\n  fileChangeHandler(event) {\r\n    event.preventDefault();\r\n    const file = event.target.files[0];\r\n    this.setState({ image: file, imageName: file[\"name\"] });\r\n  }\r\n  postClick() {\r\n    const token = localStorage.getItem(\"token\");\r\n    console.log(\"[*] createPost\");\r\n    const formData = new FormData();\r\n    formData.append(\"Title\", this.state.title);\r\n    // formData.append(\"category\", this.state.category);\r\n    formData.append(\"Content\", this.state.body);\r\n    // formData.append(\"image\", this.state.image);\r\n    console.log(formData.entries());\r\n    axios\r\n      .post(\"http://localhost:8080/api/posts/\", formData, {\r\n        headers: {\r\n          \"content-type\": \"multipart/form-data\",\r\n          \"Authorization\": `Token ${token}`,\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.status < 300) {\r\n          this.props.history.push(\"/\");\r\n        }\r\n      });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"field\">\r\n          <label className=\"label\">제목</label>\r\n          <div className=\"control\">\r\n            <input\r\n              className=\"input is-hovered\"\r\n              type=\"text\"\r\n              name=\"title\"\r\n              onChange={this.handleChange}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"field\">\r\n          <label className=\"label\">카테고리</label>\r\n          <div className=\"control\">\r\n            <div className=\"select\">\r\n              <select>\r\n                <option>웹 프론트엔드</option>\r\n                <option>웹 백엔드</option>\r\n                <option>iOS 앱</option>\r\n                <option>안드로이드 앱</option>\r\n                <option>하이브리드 앱</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"field\">\r\n          <label className=\"label\">본문</label>\r\n          <div className=\"control\">\r\n            <textarea\r\n              className=\"textarea is-hovered\"\r\n              rows=\"10\"\r\n              name=\"body\"\r\n              onChange={this.handleChange}\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"field\">\r\n          <label className=\"label\">배경사진</label>\r\n          <div className=\"control\">\r\n            <div className=\"file has-name\">\r\n              <label className=\"file-label\">\r\n                <input\r\n                  className=\"file-input\"\r\n                  type=\"file\"\r\n                  name=\"image\"\r\n                  onChange={this.fileChangeHandler}\r\n                />\r\n                <span className=\"file-cta\">\r\n                  <span className=\"file-label\">Choose a file…</span>\r\n                </span>\r\n                <span className=\"file-name\">{this.state.imageName}</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"field is-grouped\">\r\n          <div className=\"control\">\r\n            <button className=\"button is-primary\" onClick={this.postClick}>\r\n              완료\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Form);\r\n"]},"metadata":{},"sourceType":"module"}